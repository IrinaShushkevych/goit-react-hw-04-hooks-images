(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={container:"Searchbar_container__2NiST",form:"Searchbar_form__3pSoo",input:"Searchbar_input__2RQWJ",button:"Searchbar_button__1RaA8"}},29:function(e,t,a){e.exports={imageItem:"ImageGalleryItem_imageItem__3Tya0",image:"ImageGalleryItem_image__18gsr"}},30:function(e,t,a){e.exports={button:"Button_button__2c39o"}},31:function(e,t,a){e.exports={overlay:"Modal_overlay__W5piB",modal:"Modal_modal__UTesa"}},44:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3esRH"}},52:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),o=a.n(r),s=(a(52),a(53),a(16)),i=(a(54),a(7)),u=a(4),l=a(42),m=a.n(l),b=function(e,t,a){var n="".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(a,"&page=").concat(e,"&per_page=").concat(t,"&key=").concat("23908386-2e3165467d660ea2c64c020be");return m.a.get(n).then((function(e){return 200===e.status&&0!==e.data.hits.length?e.data:null}))},j=a(43),g=a.n(j),f=a(13),d=a.n(f),O=a(1);function h(e){var t=e.onSetQuery,a=Object(n.useState)(""),c=Object(u.a)(a,2),r=c[0],o=c[1];return Object(O.jsx)("header",{className:d.a.container,children:Object(O.jsxs)("form",{className:d.a.form,onSubmit:function(e){e.preventDefault();var a=r.trim();a&&t(a)},children:[Object(O.jsx)("button",{type:"submit",className:d.a.button,children:Object(O.jsx)(g.a,{className:d.a.icon,style:{width:"90%",height:"90%",fill:"blue"}})}),Object(O.jsx)("input",{className:d.a.input,value:r,type:"text",name:"search",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)}})]})})}var p=a(44),v=a.n(p),x=a(29),_=a.n(x);var y=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,c=e.myRef,r=void 0===c?null:c,o=e.onClickImg;return Object(O.jsx)("li",{className:_.a.imageItem,ref:r,onClick:function(e){o(e.target)},children:Object(O.jsx)("img",{src:t,"data-src":a,className:_.a.image,alt:n})})};function I(e){var t=e.itemsImg,a=e.myRef,n=e.onClickImg;return Object(O.jsx)("ul",{className:v.a.imageGallery,children:t&&t.map((function(e,t,c){return Object(O.jsx)(y,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,myRef:t===c.length-12?a:null,onClickImg:n},e.id)}))})}var R=a(30),w=a.n(R);var S,k=function(e){var t=e.onClickMore;return Object(O.jsx)("div",{className:w.a.blockMore,children:Object(O.jsx)("button",{type:"button",className:w.a.button,onClick:t,children:"Load more..."})})},L=a(45),N=a(11),U=a(46),C=a.n(U),M=Object(N.css)(S||(S=Object(L.a)(["\n  display: block;\n  margin: 10px auto;\n"])));var E=function(){return Object(O.jsx)(C.a,{color:"rgb(6, 255, 247)",loading:!0,css:M,size:50})},G=a(31),T=a.n(G);function B(e){var t=e.item,a=e.onCloseModal,c=document.querySelector("#root-modal"),o=function(e){"Escape"===e.code&&a()};Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}),[]);var s=t.src,i=t.tags;return Object(r.createPortal)(Object(O.jsx)("div",{className:T.a.overlay,onClick:function(e){e.target===e.currentTarget&&a()},children:Object(O.jsx)("div",{className:T.a.modal,children:Object(O.jsx)("img",{src:s,alt:i})})}),c)}function J(){var e=Object(n.useRef)(null),t=Object(n.useState)(12),a=Object(u.a)(t,2),c=a[0],r=(a[1],Object(n.useState)(1)),o=Object(u.a)(r,2),l=o[0],m=o[1],j=Object(n.useState)([]),g=Object(u.a)(j,2),f=g[0],d=g[1],p=Object(n.useState)(!1),v=Object(u.a)(p,2),x=v[0],_=v[1],y=Object(n.useState)(!1),R=Object(u.a)(y,2),w=R[0],S=R[1],L=Object(n.useState)(""),N=Object(u.a)(L,2),U=N[0],C=N[1],M=Object(n.useState)(null),G=Object(u.a)(M,2),T=G[0],J=G[1],Q=Object(n.useState)(null),q=Object(u.a)(Q,2),z=q[0],A=q[1],F=function(){d([]),m(1),_(!0),S(!1)};return Object(n.useEffect)((function(){var t=U!==z;w&&b(l,c,U).then((function(a){if(!a)return F(),void s.b.warn("No such results!");d((function(e){return t?Object(i.a)(a.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags}}))):[].concat(Object(i.a)(e),Object(i.a)(a.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags}}))))})),A(U),_(l+1>=Math.trunc(a.totalHits/c)+1),m((function(e){return e+1})),S(!1),e.current&&function(e){var t=e.current.offsetTop-80;window.scrollTo({top:t,behavior:"smooth"})}(e)})).catch((function(e){F(),s.b.error(e.message)}))}),[w]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h,{onSetQuery:function(e){A(U),C(e),S("true"),m(1)}}),Object(O.jsx)(I,{itemsImg:f,myRef:e,onClickImg:function(e){J({src:e.dataset.src,tags:e.alt})}}),w&&Object(O.jsx)(E,{}),U&&!x&&!w&&Object(O.jsx)(k,{onClickMore:function(){S(!0)}}),T&&Object(O.jsx)(B,{item:T,onCloseModal:function(){J(null)}})]})}var Q=function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(J,{}),Object(O.jsx)(s.a,{theme:"dark"})]})};o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(Q,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.58bca19e.chunk.js.map